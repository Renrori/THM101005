@{
    ViewData["Title"] = "Home Page";
}


@*<---------------旋轉軸--------------->*@
<div id="carouselExampleDark"
     class="carousel carousel-dark slide"
     data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button"
                data-bs-target="#carouselExampleDark"
                data-bs-slide-to="0"
                class="active"
                aria-current="true"
                aria-label="Slide 1"></button>
        <button type="button"
                data-bs-target="#carouselExampleDark"
                data-bs-slide-to="1"
                aria-label="Slide 2"></button>
        <button type="button"
                data-bs-target="#carouselExampleDark"
                data-bs-slide-to="2"
                aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
        <div class="carousel-item active" data-bs-interval="5000">
            <div class="d-block w-100"
                 style="
            background-image: url('https://obs.line-scdn.net/0h2_vWraCpbXBLLnnV1c8SJ3J4YQF4XGt4MlYgHjosMBNjHjYncUByCmsnYUB6FyglIFR2Rml5OkZjGnh2JRo');
            height: 65vh;
            background-size: cover;
            background-position: center;
          ">
                <div class="carousel-caption d-none d-md-block">
                    <h1 class="text-light">TIBAME超人氣麵包</h1>
                </div>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <div class="d-block w-100"
                 style="
            background-image: url('https://media.zenfs.com/no/cmmedia.com.tw/1e67e876271f5d1f5ca8a2cae9313e26');
            height: 65vh;
            background-size: cover;
            background-position: center;
          ">
                <div class="carousel-caption d-none d-md-block">
                    <h3 class="text-light">來享受悠閒的午後咖啡</h3>
                    <h5 class="text-light">意想不到的超值優惠等你/妳來領取</h5>
                </div>
            </div>
        </div>
        <div class="carousel-item" data-bs-interval="5000">
            <div class="d-block w-100"
                 style="
            background-image: url('https://images.pexels.com/photos/3826676/pexels-photo-3826676.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2');
            height: 65vh;
            background-size: cover;
            background-position: center;
          ">
                <div class="carousel-caption d-none d-md-block">
                    <h2 class="text-light">歡迎註冊成為商家會員</h2>
                    <p><a href="#" class="btn btn-primary">點此進入</a></p>
                </div>

            </div>
        </div>
    </div>
    <button class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselExampleDark"
            data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next"
            type="button"
            data-bs-target="#carouselExampleDark"
            data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

@*<------------------旋轉軸結束--------------------->*@

<div id="app">
    <section class="ftco-section">

        <div class="container">
            <div class="row">
                <div v-for="store in StoreInfo" :key="storeId">
                    <div class="col-md-6 col-lg-4 ftco-animate">
                        <div class="product">
                            <a class="img-prod" asp-area="" asp-controller="Home" asp-action="RestaurantMenu">
                                <img class="img-fluid" :src="GetPictureStore(store.storeId)" alt="{{ store.storeId }}">
                                <div class="overlay"></div>
                            </a>
                            <div class="text py-3 pb-4 px-3 text-center">
                                <h2><a href="#">{{ store.storeName }}</a></h2>
                                <div class="d-flex">
                                    <div class="pricing">
                                    </div>
                                </div>
                                <div class="bottom-area d-flex px-3">
                                    <div class="m-auto d-flex">
                                        <a href="#" class="add-to-cart d-flex justify-content-center align-items-center text-center">
                                            <span><i class="ion-ios-menu"></i></span>
                                        </a>
                                        <a href="#" class="heart d-flex justify-content-center align-items-center ">
                                            <span><i class="ion-ios-heart"></i></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </section>

    @*測試*@

    <h3>商店圖片</h3>
    <div v-for="store in StoreInfo" >
        <p>ID：{{ store.storeId }}</p>
        <p>商店名:{{ store.storeName }}</p>
        <img :src="GetPictureStore(store.storeId)" alt="商家圖片" />
    </div>
     
    @*測試結束*@
</div>
@section Scripts
    {
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vue@3.2.36/dist/vue.global.prod.js"></script>
    <script src="~/axios/axios.min.js"></script>
    <script>
        var index = {
            data() {
                return {
                    StoreInfo:[],
                    //暫時資料
                    storeImageUrl: ''
                }
            },
            mounted() {
                let _this =this;
                _this.GetStoreInfo();
               
            },
            methods: {
                GetStoreInfo: function () {
                    //alert("應該會跳出來 filterEmployeeDTOes");
                    let _this = this;
                    var request = {};

                    axios.get(`Home/GetStore`).then(response => {
                        //alert(response.data);
                        alert(JSON.stringify(response.data));
                        _this.StoreInfo = response.data;
                        var storeList = [];
                        for (var i = 0; i < _this.StoreInfo.length; i++) {
                            var item = _this.StoreInfo[i];
                            item.Edit = false;
                            storeList.push(item);
                        }
                        _this.StoreInfo = storeList;
                    });
                },
                GetPictureStore(storeId) {
                    return `Home/GetPictureStore?storeId=${storeId}`;
                 },

            }
        };
        var app = Vue.createApp(index).mount("#app");
    </script>
    }


